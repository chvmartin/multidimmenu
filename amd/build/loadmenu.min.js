define ("datafield_multidimmenu/loadmenu",["jquery","core/ajax"],function(a,b){return{init:function init(){a("#id_first_level").on("change",function(){var c=a("#id_second_level"),d=a("#id_third_level"),e=this.getAttribute("contentid"),f=document.getElementById("id_second_level"),g=document.getElementById("id_third_level"),h=a("#field_"+e);if(this.value){a("#id_second_level").attr("disabled",!1);h.val("");h.val("{\"firstlevel\":\""+a("#id_first_level").find(":selected").text()+"\"}")}else{a("#id_second_level").attr("disabled",!0);c.empty();f[0]=new Option("Choose...",0);return}b.call([{methodname:"datafield_multidimmenu_get_second_level",args:{firstlevel:this.value,contentid:e},done:function done(b){c.empty();if(0<Object.keys(b).length){f[0]=new Option("Choose...",0);a("#id_second_level").attr("disabled",!1)}else{f[0]=new Option("--",0);a("#id_second_level").attr("disabled",!0)}d.empty();g[0]=new Option("--",0);a("#id_third_level").attr("disabled",!0);b.forEach(function(a){f[f.options.length]=new Option(a.secondlevelitem,a.id)})}}])});a("#id_second_level").on("change",function(){var c=a("#id_first_level").find(":selected").text(),d=a("#id_third_level"),e=this.getAttribute("contentid"),f=document.getElementById("id_third_level"),g=a("#field_"+e);if(this.value){a("#id_third_level").attr("disabled",!1);g.val("");g.val("{\"firstlevel\":\""+a("#id_first_level").find(":selected").text()+"\",\"secondlevel\":\""+a("#id_second_level").find(":selected").text()+"\"}")}else{a("#id_third_level").attr("disabled",!0);d.empty();f[0]=new Option("Choose...",0);return}b.call([{methodname:"datafield_multidimmenu_get_third_level",args:{firstlevel:c,secondlevel:this.value,contentid:e},done:function done(b){d.empty();if(0<Object.keys(b).length){f[0]=new Option("Choose...",0);a("#id_third_level").attr("disabled",!1)}else{f[0]=new Option("--",0);a("#id_third_level").attr("disabled",!0)}b.forEach(function(a){f[f.options.length]=new Option(a.thirdlevelitem,a.id)})}}])});a("#id_third_level").on("change",function(){var b=this.getAttribute("contentid"),c=a("#field_"+b);if(this.value){a("#id_third_level").attr("disabled",!1);c.val("");c.val("{\"firstlevel\":\""+a("#id_first_level").find(":selected").text()+"\",\"secondlevel\":\""+a("#id_second_level").find(":selected").text()+"\",\"thirdlevel\":\""+a("#id_third_level").find(":selected").text()+"\"}")}})}}});
//# sourceMappingURL=loadmenu.min.js.map
