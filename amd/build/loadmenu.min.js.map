{"version":3,"sources":["../src/loadmenu.js"],"names":["define","$","Ajax","init","on","secondlevel","thirdlevel","contentid","getAttribute","s","document","getElementById","t","input","value","attr","val","find","text","empty","Option","call","methodname","args","firstlevel","done","resp","Object","keys","length","forEach","element","options","secondlevelitem","id","thirdlevelitem"],"mappings":"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","sourcesContent":["define(['jquery', 'core/ajax'],\r\n    function($, Ajax, Str, ModalFactory, ModalEvents, Notification, CustomEvents, Templates) {\r\n        /**\r\n         * Init this module which allows activity completion state to be changed via ajax.\r\n         * @method init\r\n         * @param {string} fullName The current user's full name.\r\n         * @private\r\n         */\r\n        const init = function () {\r\n            // Register the click, space and enter events as activators for the trigger element.\r\n            $('#id_first_level').on(\"change\",function(event) {\r\n\r\n                var secondlevel = $('#id_second_level');\r\n\t\t\t\tvar thirdlevel = $('#id_third_level');\r\n\t            var contentid= this.getAttribute('contentid');\r\n                var s = document.getElementById('id_second_level');\r\n\t            var t = document.getElementById('id_third_level');\r\n\r\n\t\t\t\tvar input = $('#field_'+contentid);\r\n                if (this.value) {\r\n                    $('#id_second_level').attr('disabled', false)\r\n\t                input.val('');\r\n\t                input.val('{\\\"firstlevel\\\":\\\"' + $('#id_first_level').find(\":selected\").text() + '\\\"}');\r\n                } else {\r\n                    $('#id_second_level').attr('disabled', true)\r\n\t                secondlevel.empty()\r\n                    s[0] = new Option('Choose...',0);\r\n                    return\r\n                }\r\n                Ajax.call([{\r\n                    methodname: 'datafield_multidimmenu_get_second_level',\r\n                    args: {firstlevel: this.value,contentid: contentid},\r\n                    done: function (resp) {\r\n\t                    secondlevel.empty();\r\n\t\t\t\t\t\tif (Object.keys(resp).length>0){\r\n\t\t\t\t\t\t\ts[0] = new Option('Choose...',0);\r\n\t\t\t\t\t\t\t$('#id_second_level').attr('disabled', false);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\ts[0] = new Option('--',0);\r\n\t\t\t\t\t\t\t$('#id_second_level').attr('disabled', true);\r\n\t\t\t\t\t\t}\r\n\t                    thirdlevel.empty();\r\n\t                    t[0] = new Option('--',0);\r\n\t                    $('#id_third_level').attr('disabled', true);\r\n                        resp.forEach(function(element) {\r\n                            s[s.options.length] = new Option(element.secondlevelitem,element.id);\r\n                        });\r\n                    }\r\n                }]);\r\n            });\r\n\r\n\t        $('#id_second_level').on(\"change\",function(event) {\r\n\t\t        var firstlevel = $('#id_first_level').find(\":selected\").text();\r\n\t\t        var thirdlevel = $('#id_third_level');\r\n\t\t        var contentid= this.getAttribute('contentid');\r\n\t\t        var s = document.getElementById('id_third_level');\r\n\t\t        var input = $('#field_'+contentid);\r\n\r\n\t\t        if (this.value) {\r\n\t\t\t        $('#id_third_level').attr('disabled', false)\r\n\t\t\t        input.val('');\r\n\t\t\t        input.val('{\\\"firstlevel\\\":\\\"' + $('#id_first_level').find(\":selected\").text() + '\\\",\\\"secondlevel\\\":\\\"' + $('#id_second_level').find(\":selected\").text()+'\\\"}');\r\n\t\t        } else {\r\n\t\t\t        $('#id_third_level').attr('disabled', true)\r\n\t\t\t        thirdlevel.empty()\r\n\t\t\t        s[0] = new Option('Choose...',0);\r\n\t\t\t        return\r\n\t\t        }\r\n\t\t        Ajax.call([{\r\n\t\t\t        methodname: 'datafield_multidimmenu_get_third_level',\r\n\t\t\t        args: {firstlevel:firstlevel ,secondlevel: this.value,contentid: contentid},\r\n\t\t\t        done: function (resp) {\r\n\t\t\t\t        thirdlevel.empty()\r\n\t\t\t\t        if (Object.keys(resp).length>0){\r\n\t\t\t\t\t        s[0] = new Option('Choose...',0);\r\n\t\t\t\t\t        $('#id_third_level').attr('disabled', false);\r\n\t\t\t\t        }else{\r\n\t\t\t\t\t        s[0] = new Option('--',0);\r\n\t\t\t\t\t        $('#id_third_level').attr('disabled', true);\r\n\t\t\t\t        }\r\n\t\t\t\t        resp.forEach(function(element) {\r\n\t\t\t\t\t        s[s.options.length] = new Option(element.thirdlevelitem,element.id);\r\n\t\t\t\t        });\r\n\t\t\t        }\r\n\t\t        }]);\r\n\t        });\r\n\t        $('#id_third_level').on(\"change\",function(event) {\r\n\t\t        var contentid= this.getAttribute('contentid');\r\n\t\t        var input = $('#field_'+contentid);\r\n\t\t        if (this.value) {\r\n\t\t\t        $('#id_third_level').attr('disabled', false)\r\n\t\t\t        input.val('');\r\n\t\t\t        input.val('{\\\"firstlevel\\\":\\\"' + $('#id_first_level').find(\":selected\").text() + '\\\",\\\"secondlevel\\\":\\\"' + $('#id_second_level').find(\":selected\").text()+'\\\",\\\"thirdlevel\\\":\\\"'+$('#id_third_level').find(\":selected\").text()+'\\\"}');\r\n\t\t        }\r\n\t        });\r\n        };\r\n\r\n        return {\r\n            init: init\r\n        };\r\n    });\r\n"],"file":"loadmenu.min.js"}